<div class="match-editor">

    <div *ngIf="haveToSearchGame()">
        <game-list (gameSelectedEvent)="gameSelected($event)"></game-list>
    </div>

    <div *ngIf="!haveToSearchGame()" class="form"
        [ngStyle]="{'background': 'linear-gradient(rgba(255,255,255,.4), rgba(255,255,255,.4)), url(' + imageUrl() + ') no-repeat top / cover'}">
        <div class="title">{{ matchService.getGame()?.title }}</div>

        <fieldset>
            <div *ngFor="let matchPlayer of getPlayers()" class="editor">
                <div class="row">
                    <div class="column">
                        <mat-form-field appearance="fill">
                            <mat-label>Joueur</mat-label>
                            <mat-select (selectionChange)="playerSelected($event.value, matchPlayer)">
                                <mat-option style="background-color: green" value="search"><mat-icon>search</mat-icon>Chercher un
                                    joueur...</mat-option>
                                <mat-option style="background-color: lightcoral" value="team"><mat-icon>groups</mat-icon>Cr√©er un
                                    groupe...</mat-option>
                                <mat-option *ngFor="let choosingPlayer of filteredPlayerList()" [value]="choosingPlayer">
                                    {{choosingPlayer.pseudo}}
                                </mat-option>
                            </mat-select>
                            <div style="opacity: 1; padding-right:5px;" matSuffix>
                                <button mat-mini-fab color="primary" (click)="deletePlayer(matchPlayer)"><mat-icon>color_lens</mat-icon></button>
                                <span style="padding:5px"><button mat-mini-fab color="primary" (click)="deletePlayer(matchPlayer)"><mat-icon>code</mat-icon></button></span>
                                <button mat-mini-fab color="warn" (click)="deletePlayer(matchPlayer)"><mat-icon>delete</mat-icon></button>
                            </div>
                        </mat-form-field>
                    </div>
                </div>
            </div>

            <div class="row button_row" *ngIf="canAddPlayer()">
                <div class="column">
                    <button mat-raised-button color="primary" (click)="addPlayer()">Ajouter un
                        joueur</button>
                </div>
            </div>

            <div class="row button_row">
                <div class="column">
                    <button mat-raised-button color="warn" (click)="play()" [disabled]="!canLaunchGame">Jouer !</button>
                </div>
            </div>

            <div class="row button_row">
                <div class="column">
                    <button mat-raised-button (click)="cancel()">Annuler</button>
                </div>
            </div>

        </fieldset>

    </div>

</div>